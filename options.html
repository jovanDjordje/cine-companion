<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Botodachi Options</title>
    <style>
      body {
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
        margin: 24px;
        max-width: 700px;
      }
      label {
        display: block;
        margin: 12px 0 4px;
        font-weight: 600;
      }
      input[type="text"],
      input[type="password"] {
        width: 100%;
        padding: 8px;
      }
      small {
        color: #666;
      }
      button {
        margin-top: 12px;
        padding: 8px 12px;
      }
    </style>
  </head>
  <body>
    <h1>Botodachi ‚Äî Options</h1>

    <div style="background: #dbeafe; border: 2px solid #3b82f6; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
      <div style="display: flex; align-items: start; gap: 12px;">
        <div style="font-size: 24px;">üí°</div>
        <div>
          <strong style="color: #1e40af; font-size: 16px;">Recommended AI Providers</strong>
          <p style="margin: 8px 0 0 0; color: #1e3a8a; line-height: 1.5;">
            <strong>üéÅ Google Gemini - FREE</strong> (Recommended for most users)<br>
            ‚Ä¢ Get free API key at <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: #2563eb;">aistudio.google.com</a><br>
            ‚Ä¢ No credit card required<br>
            ‚Ä¢ Generous free tier (60 requests/minute)
          </p>
          <p style="margin: 8px 0 0 0; color: #1e3a8a; line-height: 1.5;">
            <strong>üñ•Ô∏è Ollama - FREE & Private</strong><br>
            ‚Ä¢ Runs on your computer (no API key needed)<br>
            ‚Ä¢ Complete privacy, works offline<br>
            ‚Ä¢ Install from <a href="https://ollama.com" target="_blank" style="color: #2563eb;">ollama.com</a>
          </p>
          <p style="margin: 8px 0 0 0; color: #64748b; font-size: 13px;">
            <strong>Note:</strong> API keys are stored locally in your browser (standard for extensions).
            Only accessible if someone has physical access to your computer. Simple tip: Set usage limits in your provider dashboard for peace of mind.
          </p>
        </div>
      </div>
    </div>

    <label>AI Personality</label>
    <select id="personality">
      <option value="youtube">‚ñ∂Ô∏è YouTube - Internet-savvy, music & creators</option>
      <option value="moviebuff">üìΩÔ∏è Movie Buff - Enthusiastic film nerd (default Netflix)</option>
      <option value="comedy">üòÇ Comedy - Sarcastic and hilarious</option>
      <option value="vulcan">üññ Vulcan - Logical and emotionless (Star Trek)</option>
      <option value="custom">‚úèÔ∏è Custom - Define your own personality</option>
    </select>
    <small>Changes how the AI responds to your questions</small>

    <div id="customPersonalitySection" style="margin-top:12px; display:none;">
      <label>Custom Personality Prompt</label>
      <textarea id="customPersonality" rows="6" style="width:100%; padding:8px; font-family:monospace; font-size:13px;" placeholder="Example: You are an excited sports commentator who treats every movie scene like a live sports event. Use phrases like 'AND HERE WE GO!', 'What a move!', 'The tension is PALPABLE!'"></textarea>
      <small>Define how you want the AI to behave. Be specific about tone, phrases, and style.</small>
    </div>

    <hr style="margin: 20px 0; border: none; border-top: 1px solid #ddd;">

    <label>API Provider</label>
    <select id="apiProvider">
      <option value="openai">OpenAI-compatible</option>
      <option value="ollama">Ollama (Local)</option>
      <option value="google">Google AI (Gemini)</option>
    </select>

    <label>API Base URL</label>
    <input id="apiBase" type="text" value="https://api.openai.com/v1" />
    <small id="apiBaseHint">For Ollama: http://localhost:11434 | For Google: https://generativelanguage.googleapis.com</small>

    <label>Model</label>
    <input id="model" type="text" value="gpt-4o-mini" />
    <small id="modelHint">Google (FREE): gemini-2.0-flash-exp, gemini-1.5-flash | OpenAI: gpt-4o-mini | Ollama: llama3.2:3b (recommended), qwen2.5:3b</small>

    <label id="apiKeyLabel">API Key</label>
    <div style="display: flex; gap: 8px; align-items: center;">
      <input id="apiKey" type="password" placeholder="sk-..." style="flex: 1;" />
      <button id="clearKey" style="background: #dc2626; color: white; border: none; cursor: pointer; padding: 8px 12px; border-radius: 4px;">Clear Key</button>
    </div>
    <small id="apiKeyHint">Not needed for Ollama</small>

    <label>Max Tokens</label>
    <input id="maxTokens" type="text" value="400" />

    <button id="save">Save</button>
    <div id="status"><small></small></div>

    <script src="options.js"></script>
  </body>
</html>
